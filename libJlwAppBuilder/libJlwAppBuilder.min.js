function libJlwAppBuilder(n,t,i,r,u,f,e,o,s){function v(){}function y(){s.error("Not Implemented","This feature has not yet been implemented.")}function p(){h.hidePleaseWait();h.dt&&h.dt.draw(h.redrawType);h.parentLib&&h.parentLib.dt&&typeof h.parentLib.dt.draw=="function"&&h.parentLib.dt.draw(h.redrawType)}function w(n,t){n||(n=h.sDtSelector);u.fn.DataTable.isDataTable(n)&&u(n).DataTable().destroy();var i={processing:!0,serverSide:!0,pageLength:10,order:h.dtOrder,preDrawCallback:h.dtOnPreDraw,ajax:{url:h.sUrlRoot+"DtList",type:"POST",data:h.fnPostDtAjaxData},columnDefs:h.aDtRenderers};return t&&u.extend(i,t),h.dt=u(n).DataTable(i).on("draw.dt",h.dtOnDraw)}function b(n,t){h.showPleaseWait();var i=h.getParentData(n);i.EditToken="Show";h.post(h.sUrlRoot+"Data",i,function(n){h.hidePleaseWait();window.setTimeout(function(){var i=h.showDialog(n,h.frmDisplay,"View Record");typeof t=="function"&&t(i,n)},500)})}function k(n){function r(){return!0}function u(n){n&&(h.showPleaseWait(),h.post(h.sUrlRoot+"Delete",t,r).always(h.redrawTable))}var t=h.getParentData(n),i;t.EditToken="Edit";i=o.confirm("Are you sure you want to delete this record?",u);h.setModalOnTop(i)}function d(n,t){function u(){return h.onSave(i)}function f(n){h.hidePleaseWait();window.setTimeout(function(){i=h.showDialog(n,h.frmEdit,"Edit Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Save Changes<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:u}});typeof t=="function"&&t(i,n)},500)}var r=h.getParentData(n),i;h.showPleaseWait();r.EditToken="Edit";i=null;h.post(h.sUrlRoot+"Data",r,f)}function g(n){return h.showPleaseWait("Saving Data..."),h.post(h.sUrlRoot+"Save",h.serializeFormToJson(n),function(t){if(h.hidePleaseWait(),t.MessageType!=h.messageTypes.Success)return!1;h.destroyWysiwyg(n);n.modal("hide")}).always(h.redrawTable),!1}function nt(n){return h.showPleaseWait("Saving Data..."),h.post(h.sUrlRoot+"Save",h.serializeFormToJson(n),function(t){if(h.hidePleaseWait(),t.MessageType!=h.messageTypes.Success)return!1;h.destroyWysiwyg(n);n.modal("hide")}).always(h.redrawTable),!1}function tt(n){window.setTimeout(function(){var t=h.showDialog({},h.frmEdit,"Add Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Add Record<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:function(){return h.onSaveNew(t)}}});typeof n=="function"&&n(t,{})},500)}function it(n){function r(n,i){var r=u(i);t[r.data("name")]=r.html()}var i=u(n).parent(),t={};return u("span.d-none",i).each(r),t}function rt(n){return'<button type="button" class="btn btn-sm '+n.skin+" "+n.class+'"><span class="'+n.icon+'"><\/span>'+n.label+"<\/button>"}function ut(n,t,i,r,u){c.push(h.getButtonDefinition(n,t,i,r,u))}function ft(n,t,i,r,u){l.push(h.getButtonDefinition(n,t,i,r,u))}function et(n,t){h.aDtRenderers.push({render:n,targets:t})}function ot(n,t,i,r,u){return{label:typeof n=="string"?n:" ","class":t?t:"",icon:i?i:"",skin:r?r:"btn-outline-secondary",callback:typeof u=="function"?u:h.fnNull}}function st(n){return f(n).format("MM/DD/YYYY")}function ht(n,t,i){var r="",u,f;r+='<div class="text-center">';for(u in i)r+='<span class="d-none" data-name="'+u+'">'+i[u]+"<\/span>";for(f in c)r+=h.getButton(c[f]);return r+"<\/div>"}function ct(){var i=u(t).parent().parent().parent(),n,r;h&&h.dt&&h.dt.containers&&(i=u(h.dt.containers()));for(n in l)r=u(h.getButton(l[n])).on("click",a(l[n])),i.append(r)}function a(n){if(typeof n.callback=="function"){var t=n.callback;return function(){t(this)}}return h.fnNull}function lt(){var i,n,r;for(i in c){n=c[i];r="."+n.class;u(r,u(t)).off().on("click",a(n))}}function at(n,t){var i=n.parent().parent();u(".jlw-popup-control button, .jlw-popup-control input[type=text]",u(i)).off().on("click",function(){t(this,i)})}function vt(n){if(e){var t={selector:".modal-body textarea.jlw-wysiwyg",init_instance_callback:function(n){u(n.targetElm).data("jlwWysiwyg",n)},setup:function(n){n.on("change",function(){e.triggerSave()})}};h.optionsWysiwyg&&u.extend(t,h.optionsWysiwyg);h.destroyWysiwyg(n);e.init(t)}}function yt(n){e&&u(".jlw-wysiwyg",n).each(function(){var n=u(this).data("jlwWysiwyg");n&&n.destroy&&n.destroy()})}function pt(n,t,i,r){var e=function(n){h.destroyWysiwyg(u(n.delegateTarget))},f;return r||(r={}),r.no||(r.no={label:'<div class="text-left"><i class="fas fa-arrow-left"><\/i> Close<\/div>',className:"btn btn-outline-danger",callback:e}),f=o.dialog({title:i,message:t,onEscape:e,size:"large",buttons:r}),h.populateFormData(n,f),u(".modal-lg",f).addClass("modal-xl"),h.setModalOnTop(f),f.data("parentLib",h),h.initWysiwyg(f),f}r=r||window.libJlwUtility;u=u||window.jQuery;f=f||window.moment;e=e||window.tinyMCE;o=o||window.bootbox;s=s||window.toastr;var h=new r({},u),c=[],l=[];return h.aDtRenderers=[],h.frmEdit=" ",h.frmDisplay=" ",h.sUrlRoot=n,h.sDtSelector=t,h.getButtonDefinition=ot,h.getParentData=it,h.onShowRecord=b,h.onAddRecord=tt,h.onEditRecord=d,h.onDeleteRecord=k,h.showDialog=pt,h.onSave=g,h.onSaveNew=nt,h.dt=null,h.addDtRowButton=ut,h.addDtFooterButton=ft,h.addDtRenderer=et,h.dtOrder=[[0,"asc"]],h.initializeDataTable=w,h.fnNull=h.fnNull||v,h.fnPostDtAjaxData=h.fnPostDtAjaxData||h.fnNull,h.fnNotImplemented=y,h.dtRenderDate=st,h.dtRenderButtons=ht,h.dtRenderFooterButtons=ct,h.dtOnDraw=lt,h.dtOnPreDraw=h.dtOnPreDraw||h.fnNull,h.getButton=rt,h.initPopup=at,h.initWysiwyg=vt,h.destroyWysiwyg=yt,h.optionsWysiwyg={},h.parentLib=i,h.redrawType="full-hold",h.redrawTable=p,h}