function libJlwAppBuilder(n,t,i){function f(){}function y(){toastr.error("Not Implemented","This feature has not yet been implemented.")}function h(){r.hidePleaseWait();r.dt&&r.dt.draw();r.parentLib&&r.parentLib.dt&&typeof r.parentLib.dt.draw=="function"&&r.parentLib.dt.draw()}function p(n,t){n||(n=r.sDtSelector);$.fn.DataTable.isDataTable(n)&&$(n).DataTable().destroy();var i={processing:!0,serverSide:!0,pageLength:10,order:r.dtOrder,preDrawCallback:r.dtOnPreDraw,ajax:{url:r.sUrlRoot+"DtList",type:"POST",data:r.fnPostDtAjaxData},columnDefs:r.aDtRenderers};return t&&$.extend(i,t),r.dt=$(n).DataTable(i).on("draw.dt",r.dtOnDraw)}function w(t,i){r.showPleaseWait();var u=r.getParentData(t);u.EditToken="Show";r.post(n+"Data",u,function(n){r.hidePleaseWait();window.setTimeout(function(){var t=s(n,r.frmDisplay,"View Record");typeof i=="function"&&i(t,n)},500)})}function b(t){function f(){return!0}function e(t){t&&(r.showPleaseWait(),r.post(n+"Delete",i,f).always(h))}var i=c(t),u;i.EditToken="Edit";u=bootbox.confirm("Are you sure you want to delete this record?",e);r.setModalOnTop(u)}function k(t,i){function e(){return a(u)}function o(n){r.hidePleaseWait();window.setTimeout(function(){u=s(n,r.frmEdit,"Edit Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Save Changes<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:e}});typeof i=="function"&&i(u,n)},500)}var f=c(t),u;r.showPleaseWait();f.EditToken="Edit";u=null;r.post(n+"Data",f,o)}function a(t){return r.showPleaseWait("Saving Data..."),r.post(n+"Save",r.serializeFormToJson(t),function(n){if(r.hidePleaseWait(),n.MessageType!=r.messageTypes.Success)return!1;o(t);t.modal("hide")}).always(h),!1}function d(t){return r.showPleaseWait("Saving Data..."),r.post(n+"Save",r.serializeFormToJson(t),function(n){if(r.hidePleaseWait(),n.MessageType!=r.messageTypes.Success)return!1;o(t);t.modal("hide")}).always(h),!1}function g(n){window.setTimeout(function(){var t=s({},r.frmEdit,"Add Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Add Record<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:function(){return d(t)}}});typeof n=="function"&&n(t,{})},500)}function c(n){function r(n,i){var r=$(i);t[r.data("name")]=r.html()}var i=$(n).parent(),t={};return $("span.d-none",i).each(r),t}function nt(n){return'<button type="button" class="btn btn-sm '+n.skin+" "+n.class+'"><i class="'+n.icon+'"><\/i>'+n.label+"<\/button>"}function tt(n,t,i,r,f){u.push(l(n,t,i,r,f))}function it(n,t,i,r,u){e.push(l(n,t,i,r,u))}function rt(n,t){r.aDtRenderers.push({render:n,targets:t})}function l(n,t,i,r,u){return{label:typeof n=="string"?n:" ","class":t?t:"",icon:i?i:"",skin:r?r:"btn-outline-secondary",callback:typeof u=="function"?u:f}}function ut(n){return moment(n).format("MM/DD/YYYY")}function ft(n,t,i){var f="",e,o;f+='<div class="text-center">';for(e in i)f+='<span class="d-none" data-name="'+e+'">'+i[e]+"<\/span>";for(o in u)f+=r.getButton(u[o])+"&nbsp;";return f+"<\/div>"}function et(){var i=$(t).parent().parent().parent(),n,u;r&&r.dt&&r.dt.containers&&(i=$(r.dt.containers()));for(n in e)u=$(r.getButton(e[n])).on("click",v(e[n])),i.append(u)}function v(n){if(typeof n.callback=="function"){var t=n.callback;return function(){t(this)}}return f}function ot(){var i,n,r;for(i in u){n=u[i];r="."+n.class;$(r,$(t)).off().on("click",v(n))}}function st(n,t){var i=n.parent().parent();$(".jlw-popup-control button, .jlw-popup-control input[type=text]",$(i)).off().on("click",function(){t(this,i)})}function ht(n){if(window.tinyMCE){var t={selector:".modal-body textarea.jlw-wysiwyg",init_instance_callback:function(n){$(n.targetElm).data("jlwWysiwyg",n)},setup:function(n){n.on("change",function(){tinymce.triggerSave()})}};r.optionsWysiwyg&&$.extend(t,r.optionsWysiwyg);o(n);tinyMCE.init(t)}}function o(n){$(".jlw-wysiwyg",n).each(function(){var n=$(this).data("jlwWysiwyg");n&&n.destroy&&n.destroy()})}function s(n,t,i,u){var e=function(n){o($(n.delegateTarget))},f;return u||(u={}),u.no||(u.no={label:'<div class="text-left"><i class="fas fa-arrow-left"><\/i> Close<\/div>',className:"btn btn-outline-danger",callback:e}),f=bootbox.dialog({title:i,message:t,onEscape:e,size:"large",buttons:u}),r.populateFormData(n,f),$(".modal-lg",f).addClass("modal-xl"),r.setModalOnTop(f),f.data("parentLib",r),r.initWysiwyg(f),f}var r=new libJlwUtility,u=[],e=[];return r.aDtRenderers=[],r.frmEdit=" ",r.frmDisplay=" ",r.sUrlRoot=n,r.sDtSelector=t,r.getButtonDefinition=l,r.getParentData=c,r.onShowRecord=w,r.onAddRecord=g,r.onEditRecord=k,r.onDeleteRecord=b,r.showDialog=s,r.onSave=a,r.dt=null,r.addDtRowButton=tt,r.addDtFooterButton=it,r.addDtRenderer=rt,r.dtOrder=[[0,"asc"]],r.initializeDataTable=p,r.fnPostDtAjaxData=f,r.fnNull=f,r.fnNotImplemented=y,r.dtRenderDate=ut,r.dtRenderButtons=ft,r.dtRenderFooterButtons=et,r.dtOnDraw=ot,r.dtOnPreDraw=f,r.getButton=nt,r.initPopup=st,r.initWysiwyg=ht,r.optionsWysiwyg={},r.parentLib=i,r}