function libJlwAppBuilder(n,t,i,r,u,f,e){function h(){}function a(){toastr.error("Not Implemented","This feature has not yet been implemented.")}function v(){o.hidePleaseWait();o.dt&&o.dt.draw(o.redrawType);o.parentLib&&o.parentLib.dt&&typeof o.parentLib.dt.draw=="function"&&o.parentLib.dt.draw(o.redrawType)}function y(n,t){n||(n=o.sDtSelector);u.fn.DataTable.isDataTable(n)&&u(n).DataTable().destroy();var i={processing:!0,serverSide:!0,pageLength:10,order:o.dtOrder,preDrawCallback:o.dtOnPreDraw,ajax:{url:o.sUrlRoot+"DtList",type:"POST",data:o.fnPostDtAjaxData},columnDefs:o.aDtRenderers};return t&&u.extend(i,t),o.dt=u(n).DataTable(i).on("draw.dt",o.dtOnDraw)}function p(n,t){o.showPleaseWait();var i=o.getParentData(n);i.EditToken="Show";o.post(o.sUrlRoot+"Data",i,function(n){o.hidePleaseWait();window.setTimeout(function(){var i=o.showDialog(n,o.frmDisplay,"View Record");typeof t=="function"&&t(i,n)},500)})}function w(n){function r(){return!0}function u(n){n&&(o.showPleaseWait(),o.post(o.sUrlRoot+"Delete",t,r).always(o.redrawTable))}var t=o.getParentData(n),i;t.EditToken="Edit";i=bootbox.confirm("Are you sure you want to delete this record?",u);o.setModalOnTop(i)}function b(n,t){function u(){return o.onSave(i)}function f(n){o.hidePleaseWait();window.setTimeout(function(){i=o.showDialog(n,o.frmEdit,"Edit Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Save Changes<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:u}});typeof t=="function"&&t(i,n)},500)}var r=o.getParentData(n),i;o.showPleaseWait();r.EditToken="Edit";i=null;o.post(o.sUrlRoot+"Data",r,f)}function k(n){return o.showPleaseWait("Saving Data..."),o.post(o.sUrlRoot+"Save",o.serializeFormToJson(n),function(t){if(o.hidePleaseWait(),t.MessageType!=o.messageTypes.Success)return!1;o.destroyWysiwyg(n);n.modal("hide")}).always(o.redrawTable),!1}function d(n){return o.showPleaseWait("Saving Data..."),o.post(o.sUrlRoot+"Save",o.serializeFormToJson(n),function(t){if(o.hidePleaseWait(),t.MessageType!=o.messageTypes.Success)return!1;o.destroyWysiwyg(n);n.modal("hide")}).always(o.redrawTable),!1}function g(n){window.setTimeout(function(){var t=o.showDialog({},o.frmEdit,"Add Record",{yes:{label:'<div class="text-left"><i class="fas fa-check-circle"><\/i> Add Record<\/div>',className:"btn btn-outline-success pull-left jlw-update",callback:function(){return o.onSaveNew(t)}}});typeof n=="function"&&n(t,{})},500)}function nt(n){function r(n,i){var r=u(i);t[r.data("name")]=r.html()}var i=u(n).parent(),t={};return u("span.d-none",i).each(r),t}function tt(n){return'<button type="button" class="btn btn-sm '+n.skin+" "+n.class+'"><i class="'+n.icon+'"><\/i>'+n.label+"<\/button>"}function it(n,t,i,r,u){s.push(o.getButtonDefinition(n,t,i,r,u))}function rt(n,t,i,r,u){c.push(o.getButtonDefinition(n,t,i,r,u))}function ut(n,t){o.aDtRenderers.push({render:n,targets:t})}function ft(n,t,i,r,u){return{label:typeof n=="string"?n:" ","class":t?t:"",icon:i?i:"",skin:r?r:"btn-outline-secondary",callback:typeof u=="function"?u:h}}function et(n){return f(n).format("MM/DD/YYYY")}function ot(n,t,i){var r="",u,f;r+='<div class="text-center">';for(u in i)r+='<span class="d-none" data-name="'+u+'">'+i[u]+"<\/span>";for(f in s)r+=o.getButton(s[f])+"&nbsp;";return r+"<\/div>"}function st(){var i=u(t).parent().parent().parent(),n,r;o&&o.dt&&o.dt.containers&&(i=u(o.dt.containers()));for(n in c)r=u(o.getButton(c[n])).on("click",l(c[n])),i.append(r)}function l(n){if(typeof n.callback=="function"){var t=n.callback;return function(){t(this)}}return h}function ht(){var i,n,r;for(i in s){n=s[i];r="."+n.class;u(r,u(t)).off().on("click",l(n))}}function ct(n,t){var i=n.parent().parent();u(".jlw-popup-control button, .jlw-popup-control input[type=text]",u(i)).off().on("click",function(){t(this,i)})}function lt(n){if(e){var t={selector:".modal-body textarea.jlw-wysiwyg",init_instance_callback:function(n){u(n.targetElm).data("jlwWysiwyg",n)},setup:function(n){n.on("change",function(){e.triggerSave()})}};o.optionsWysiwyg&&u.extend(t,o.optionsWysiwyg);o.destroyWysiwyg(n);e.init(t)}}function at(n){e&&u(".jlw-wysiwyg",n).each(function(){var n=u(this).data("jlwWysiwyg");n&&n.destroy&&n.destroy()})}function vt(n,t,i,r){var e=function(n){o.destroyWysiwyg(u(n.delegateTarget))},f;return r||(r={}),r.no||(r.no={label:'<div class="text-left"><i class="fas fa-arrow-left"><\/i> Close<\/div>',className:"btn btn-outline-danger",callback:e}),f=bootbox.dialog({title:i,message:t,onEscape:e,size:"large",buttons:r}),o.populateFormData(n,f),u(".modal-lg",f).addClass("modal-xl"),o.setModalOnTop(f),f.data("parentLib",o),o.initWysiwyg(f),f}r=r||window.libJlwUtility;u=u||window.jQuery;f=f||window.moment;e=e||window.tinyMCE;var o=new r,s=[],c=[];return o.aDtRenderers=[],o.frmEdit=" ",o.frmDisplay=" ",o.sUrlRoot=n,o.sDtSelector=t,o.getButtonDefinition=ft,o.getParentData=nt,o.onShowRecord=p,o.onAddRecord=g,o.onEditRecord=b,o.onDeleteRecord=w,o.showDialog=vt,o.onSave=k,o.onSaveNew=d,o.dt=null,o.addDtRowButton=it,o.addDtFooterButton=rt,o.addDtRenderer=ut,o.dtOrder=[[0,"asc"]],o.initializeDataTable=y,o.fnPostDtAjaxData=h,o.fnNull=h,o.fnNotImplemented=a,o.dtRenderDate=et,o.dtRenderButtons=ot,o.dtRenderFooterButtons=st,o.dtOnDraw=ht,o.dtOnPreDraw=h,o.getButton=tt,o.initPopup=ct,o.initWysiwyg=lt,o.destroyWysiwyg=at,o.optionsWysiwyg={},o.parentLib=i,o.redrawType="full-hold",o.redrawTable=v,o}